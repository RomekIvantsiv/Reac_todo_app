{"version":3,"sources":["store/index.ts","store/selectors.ts","components/Footer/Footer.tsx","components/TodoInput/TodoInput.tsx","components/TodoList/TodoList.tsx","App.tsx","index.tsx"],"names":["initialState","createAction","todos","currentTodo","status","buttonDelete","setTodos","setStasus","setDeleteButton","setCurrentTodo","reducer","createReducer","builder","addCase","state","action","payload","store","configureStore","getTodosSelector","getTodosStatus","showDeleteButton","getCurrentTodo","Footer","useState","selected","setSelected","useSelector","clearButton","dispatch","useDispatch","todosLeft","allTodos","result","i","length","completed","notCompletedTodos","className","type","classNames","onClick","TodoInput","title","setTitle","onSubmit","event","preventDefault","newTodo","id","uuid","console","log","placeholder","value","onChange","target","TodoList","edit","setEdit","statusTodos","newTitle","setNewTitle","useEffect","data","localStorage","getItem","JSON","parse","setItem","stringify","statusOfClearButton","every","todo","removeTodo","filteredTodos","filter","map","htmlFor","filteredTodosByStatus","editing","checked","newTodos","changeTodoStatus","onDoubleClick","autoFocus","defaultValue","onKeyDown","key","newTitleTest","updatedTodos","editTitle","onBlur","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba56177b.chunk.js","sourcesContent":["import {\n  createAction,\n  configureStore,\n  createReducer,\n} from '@reduxjs/toolkit';\n\nimport {} from 'redux-persist';\nimport { State, Todo } from '../react-app-env.d';\n\nexport const data = [];\n\nexport const setTodos2 = createAction<Todo[]>('SET_OUR_TODOS');\n\nconst initialState: State = {\n  todos: data,\n  currentTodo: null,\n  status: 'all',\n  buttonDelete: false,\n};\n\nexport const setTodos = createAction<Todo[]>('ADD_TODO');\nexport const setStasus = createAction<string>('STATUS_CHANGED');\nexport const setDeleteButton = createAction<boolean>('SHOW_DELETE_BUTTON');\nexport const setCurrentTodo = createAction<Todo | null>('SET_CURRENT_TODO');\n\nconst reducer = createReducer(initialState, (builder) => {\n  builder.addCase(setTodos, (state, action) => {\n    // eslint-disable-next-line no-param-reassign\n    state.todos = action.payload;\n  });\n  builder.addCase(setStasus, (state, action) => {\n    // eslint-disable-next-line no-param-reassign\n    state.status = action.payload;\n  });\n  builder.addCase(setDeleteButton, (state, action) => {\n    // eslint-disable-next-line no-param-reassign\n    state.buttonDelete = action.payload;\n  });\n  builder.addCase(setCurrentTodo, (state, action) => {\n    // eslint-disable-next-line no-param-reassign\n    state.currentTodo = action.payload;\n  });\n});\n\nexport const store = configureStore({ reducer });\n","import { State } from '../react-app-env.d';\n\nexport const getTodosSelector = (state: State) => state.todos;\nexport const getTodosStatus = (state: State) => state.status;\nexport const showDeleteButton = (state: State) => state.buttonDelete;\nexport const getCurrentTodo = (state: State) => state.currentTodo;\n","import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Todo } from '../../react-app-env.d';\nimport { setStasus, setTodos } from '../../store';\nimport { getTodosSelector, showDeleteButton } from '../../store/selectors';\n\nexport const Footer = () => {\n  const [selected, setSelected] = useState('all');\n  const todos = useSelector(getTodosSelector);\n  const clearButton = useSelector(showDeleteButton);\n  const dispatch = useDispatch();\n\n  const notCompletedTodos = (allTodos: Todo[]) => {\n    let result = 0;\n\n    for (let i = 0; i < allTodos?.length; i += 1) {\n      const current = allTodos[i];\n\n      if (current.completed === false) {\n        result += 1;\n      }\n    }\n\n    return result;\n  };\n\n  const todosLeft = notCompletedTodos(todos);\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        {todosLeft\n          ? (`${todosLeft} items left`)\n          : ('Nothing to do :)')}\n\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <button\n            type=\"button\"\n            className={classNames('filters__button', { selected: selected === 'all' })}\n            onClick={() => {\n              setSelected('all');\n              dispatch(setStasus('all'));\n            }}\n          >\n            All\n          </button>\n        </li>\n\n        <li>\n          <button\n            type=\"button\"\n            className={classNames('filters__button', { selected: selected === 'active' })}\n            onClick={() => {\n              setSelected('active');\n              dispatch(setStasus('active'));\n            }}\n          >\n            Active\n          </button>\n        </li>\n\n        <li>\n          <button\n            type=\"button\"\n            className={classNames('filters__button', { selected: selected === 'completed' })}\n            onClick={() => {\n              setSelected('completed');\n              dispatch(setStasus('completed'));\n            }}\n          >\n            Completed\n          </button>\n        </li>\n      </ul>\n\n      {clearButton\n      && (\n        <button\n          type=\"button\"\n          className=\"clear-completed\"\n          onClick={() => {\n            dispatch(setTodos([]));\n          }}\n        >\n          Clear completed\n        </button>\n      )}\n\n    </footer>\n  );\n};\n","import React, { useState } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Todo } from '../../react-app-env.d';\nimport { setTodos } from '../../store';\nimport { getTodosSelector } from '../../store/selectors';\n\nexport const TodoInput = () => {\n  const [title, setTitle] = useState('');\n\n  const todos = useSelector(getTodosSelector);\n  const dispatch = useDispatch();\n\n  const handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const newTodo: Todo = {\n      id: uuid(),\n      title,\n      completed: false,\n    };\n\n    if (newTodo.title !== '') {\n      // eslint-disable-next-line no-console\n      console.log(todos);\n      dispatch(setTodos([...todos, newTodo]));\n      setTitle('');\n    }\n  };\n\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n\n      <form\n        onSubmit={handleFormSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={title}\n          onChange={(event) => {\n            setTitle(event.target.value);\n          }}\n        />\n      </form>\n    </header>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCurrentTodo,\n  getTodosSelector,\n  getTodosStatus,\n} from '../../store/selectors';\nimport { setCurrentTodo, setDeleteButton, setTodos } from '../../store';\nimport { Todo } from '../../react-app-env.d';\n\nexport const TodoList = () => {\n  const [edit, setEdit] = useState('');\n  const dispatch = useDispatch();\n  const currentTodo = useSelector(getCurrentTodo);\n  const todos = useSelector(getTodosSelector);\n  const statusTodos = useSelector(getTodosStatus);\n  const [newTitle, setNewTitle] = useState(currentTodo?.title);\n\n  useEffect(() => {\n    const data = localStorage.getItem('todos');\n\n    if (data) {\n      dispatch(setTodos(JSON.parse(data)));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('todos', JSON.stringify(todos));\n  });\n\n  useEffect(() => {\n    setNewTitle(currentTodo?.title);\n  }, [currentTodo]);\n\n  const statusOfClearButton = todos?.every(todo => todo.completed === true);\n\n  const setButtonDelete = (status: boolean) => {\n    if (status) {\n      dispatch(setDeleteButton(true));\n    } else if (!status) {\n      dispatch(setDeleteButton(false));\n    }\n  };\n\n  useEffect(() => {\n    setButtonDelete(statusOfClearButton);\n  }, [statusOfClearButton]);\n\n  const removeTodo = (id: string) => {\n    const filteredTodos = todos.filter(todo => todo.id !== id);\n\n    dispatch(setTodos(filteredTodos));\n  };\n\n  const changeTodoStatus = (id: string) => {\n    const newTodos = todos.map((todo: Todo) => {\n      if (todo.id === id) {\n        return { ...todo, completed: !todo.completed };\n      }\n\n      return todo;\n    });\n\n    dispatch(setTodos(newTodos));\n  };\n\n  const editTitle = (id: string, newTitleTest: string) => {\n    if (newTitleTest === '') {\n      removeTodo(id);\n\n      return null;\n    }\n\n    const newTodos = todos.filter(todo => todo.title !== '');\n\n    const updatedTodos = newTodos.map(todo => {\n      if (todo.id === id) {\n        return { ...todo, title: newTitleTest };\n      }\n\n      return todo;\n    });\n\n    dispatch(setTodos(updatedTodos));\n\n    return null;\n  };\n\n  const setAllCompleted = () => {\n    let result;\n    const status = todos.every(todo => todo.completed === true);\n\n    result = todos.map((todo: Todo) => {\n      return { ...todo, completed: true };\n    });\n\n    if (status) {\n      result = todos.map((todo: Todo) => {\n        return { ...todo, completed: false };\n      });\n    }\n\n    dispatch(setTodos(result));\n  };\n\n  const filteredTodosByStatus = (allTodos: Todo[]) => {\n    switch (statusTodos) {\n      case 'active': {\n        return allTodos.filter(todo => todo.completed === false);\n      }\n\n      case 'completed': {\n        return allTodos.filter(todo => todo.completed === true);\n      }\n\n      default: {\n        return allTodos;\n      }\n    }\n  };\n\n  return (\n    <section className=\"main\">\n      <input\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        onClick={setAllCompleted}\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n      <ul className=\"todo-list\">\n        {filteredTodosByStatus(todos)?.map(todo => (\n          <li\n            key={todo.id}\n            className={classNames('', { completed: todo.completed, editing: todo.id === edit })}\n          >\n            <div className=\"view\">\n              <input\n                type=\"checkbox\"\n                className=\"toggle\"\n                checked={todo.completed}\n                id={todo.id}\n                onChange={() => {\n                  changeTodoStatus(todo.id);\n                }}\n              />\n              <label\n                onDoubleClick={() => {\n                  setEdit(todo.id);\n                  dispatch(setCurrentTodo(todo));\n                }}\n              >\n                {todo.title}\n              </label>\n              <button\n                type=\"button\"\n                className=\"destroy\"\n                onClick={() => {\n                  removeTodo(todo.id);\n                }}\n              />\n            </div>\n            {edit\n            && (\n              <input\n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus\n                type=\"text\"\n                className=\"edit\"\n                defaultValue={todo.title}\n                onChange={(event) => {\n                  setNewTitle(event.target.value);\n                }}\n                onKeyDown={(event) => {\n                  if (event.key === 'Escape') {\n                    setEdit('');\n                  }\n\n                  if (event.key === 'Enter') {\n                    editTitle(todo.id, newTitle || '');\n                    setEdit('');\n                  }\n                }}\n                onBlur={() => {\n                  setEdit('');\n                  setNewTitle('');\n                }}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n","/* eslint-disable jsx-a11y/control-has-associated-label */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Footer } from './components/Footer';\nimport { TodoInput } from './components/TodoInput';\nimport { TodoList } from './components/TodoList';\nimport { getTodosSelector } from './store/selectors';\nimport './styles/filters.scss';\nimport './styles/index.scss';\nimport './styles/todo-list.scss';\n\nexport const App: React.FC = () => {\n  const todos = useSelector(getTodosSelector);\n\n  return (\n    <section className=\"todoapp\">\n      <TodoInput />\n\n      <TodoList />\n      {todos?.length !== 0\n      && (\n        <Footer />\n      )}\n    </section>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport { App } from './App';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}